#ifndef LLVM_LIB_TARGET_M86_M86ISELDAGTODAG_H
#define LLVM_LIB_TARGET_M86_M86ISELDAGTODAG_H

#include <M86Subtarget.h>
#include <M86TargetMachine.h>
#include <llvm/ADT/StringRef.h>
#include <llvm/CodeGen/MachineFunction.h>
#include <llvm/CodeGen/SelectionDAGISel.h>
#include <llvm/CodeGen/SelectionDAGNodes.h>

using namespace llvm;

namespace llvm {

class M86DAGToDAGISel : public SelectionDAGISel {
public:
  static char ID;

  M86DAGToDAGISel() = delete;
  explicit M86DAGToDAGISel(M86TargetMachine &tm);

  bool runOnMachineFunction(MachineFunction &MF) override;

  void Select(SDNode *N) override;
  bool SelectFIAddress(SDValue Addr, SDValue &Base);
  bool SelectBaseAddress(SDValue Addr, SDValue &Base);

  StringRef getPassName() const override;

private:
  const M86Subtarget *Subtarget = nullptr;

public:
// Include the pieces autogenerated from the target description.
#include <M86GenDAGISel.inc>
};

} // namespace llvm

#endif // LLVM_LIB_TARGET_M86_M86ISELDAGTODAG_H
