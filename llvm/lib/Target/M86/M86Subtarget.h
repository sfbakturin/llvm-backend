#ifndef LLVM_LIB_TARGET_M86_M86SUBTARGET_H
#define LLVM_LIB_TARGET_M86_M86SUBTARGET_H

#include <M86FrameLowering.h>
#include <M86ISelLowering.h>
#include <M86InstrInfo.h>
#include <llvm/CodeGen/SelectionDAGTargetInfo.h>
#include <string>

#include <llvm/ADT/StringRef.h>
#include <llvm/Target/TargetMachine.h>

using namespace llvm;

#define GET_SUBTARGETINFO_HEADER
#include <M86GenSubtargetInfo.inc>
#include <M86RegisterInfo.h>
#include <llvm/TargetParser/Triple.h>

namespace llvm {

class M86Subtarget : public M86GenSubtargetInfo {
public:
  M86Subtarget(const Triple &TT, const std::string &CPU, const std::string &FS,
               const TargetMachine &TM);

  /// ParseSubtargetFeatures - Parses features string setting specified
  /// subtarget options.  Definition of function is auto generated by tblgen.
  void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS);

  const M86InstrInfo *getInstrInfo() const override;
  const M86FrameLowering *getFrameLowering() const override;
  const M86TargetLowering *getTargetLowering() const override;
  const M86RegisterInfo *getRegisterInfo() const override;
  const SelectionDAGTargetInfo *getSelectionDAGInfo() const override;

private:
  virtual void anchor();

  M86RegisterInfo RegInfo;
  M86InstrInfo InstrInfo;
  M86FrameLowering FrameLowering;
  M86TargetLowering TLInfo;
  SelectionDAGTargetInfo TSInfo;
};

} // end namespace llvm

#endif // LLVM_LIB_TARGET_M86_M86SUBTARGET_H
